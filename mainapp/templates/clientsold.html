<style>
table {
font-size: 14px;
border-radius: 20px;
border-spacing: 0;
text-align: center;
margin: auto;
}
th {

padding: 10px 20px;
}
th, td {
border-style: solid;
border-width: 0 1px 1px 0;
border-color: white;
}
th:first-child, td:first-child {
text-align: left;
}
th:first-child {
border-top-left-radius: 10px;
}
th:last-child {
border-top-right-radius: 10px;
border-right: none;
}
td {
padding: 10px 20px;
background: #F8E391;
}
tr:last-child td:first-child {
border-radius: 0 0 0 10px;
}
tr:last-child td:last-child {
border-radius: 0 0 10px 0;
}
tr td:last-child {
border-right: none;
}
</style>


<table id="keywords" cellspacing="0" cellpadding="0">
    <thead>
    <tr>

        <th colspan="2" width="150px"><span> Client </span></th>
        <th rowspan="{{ all_clients.count }}"><span> Document to fill</span></th>
        <th><span> Links to generated files </span></th>
    </tr>
    </thead>

    {% for p_client in all_clients %}
        {% if forloop.first %}
            <form action="/clientForm/{{ p_client.id }}" method="POST" style="display:inline;" id="clientForm">
                    {% csrf_token %}
                <input type="hidden" name="page" value="clients">
                <td>
                    <input type="checkbox" name="cl_checked" value="{{ p_client.id }}">
                </td>
                <td>

                    <a href="/clientInfo/{{ p_client.id }}">
                        {{ p_client.first_name }} {{ p_client.part_name }} {{ p_client.last_name }}
                    </a>
                </td>
                <td style="display: inherit;">
                    {% load staticfiles %}
                    <button class="btn" name="sbm" value="Delete"><img src="{% static 'img/x-button.png' %}"/>
                    </button>
                    <button class="btn" name="sbm" value="Edit"><img src="{% static 'img/edit_icon.png' %}"/>
                    </button>
                </td>
            </form>
            <td rowspan="0"  max-width="40%">
                {% for doc in all_docs %}
                    <br><a href="{% static doc.get_path %}">{{ doc.name }}</a>
                    <button class="btn" name="sbm" id="genRep" doc_id="{{ doc.id }}" value="Generete Doc"
                            onclick="generateReport('{{ doc.id }}')"
                    >{% csrf_token %}<img
                            src="{% static 'img/fill_file.png' %}"/></button>
                {% endfor %}
            </td>

            </tr>
        {% else %}
            <form action="/clientForm/{{ p_client.id }}" method="POST" style="display:inline;">
                <input type="hidden" name="page" value="clients">
                <td>
                    {% csrf_token %}
                    <input type="checkbox" name="cl_checked" value="{{ p_client.id }}">
                </td>
                <td>

                    <a href="/clientInfo/{{ p_client.id }}">
                        {{ p_client.first_name }} {{ p_client.part_name }} {{ p_client.last_name }}
                    </a>
                </td>
                <td style="display: inherit;">
                    {% load staticfiles %}
                    <button class="btn" name="sbm" value="Delete"><img src="{% static 'img/x-button.png' %}"/>
                    </button>
                    <button class="btn" name="sbm" value="Edit"><img src="{% static 'img/edit_icon.png' %}"/>
                    </button>
                </td>
            </form>

            </tr>
        {% endif %}
    {% endfor %}
</table>
